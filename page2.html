<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>潍坊风筝介绍</title>
    <style>
        /* 页面样式初始化 */
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: "微软雅黑", sans-serif;
        }

        /* 容器样式 - 新增左对齐基础，保留原有核心属性 */
        .container {
            position: relative;
            width: fit-content;
            max-width: 100%;
            margin: 0 auto;
            height: 100vh;
            overflow: hidden;
            padding: 2px 0; 
            box-sizing: border-box;
            text-align: left; /* 容器内元素默认左对齐 */
            padding-left: 20px; /* 左上对齐的内边距，避免贴边 */
        }

        /* 背景图样式 */
        .bgimg {
            position: fixed; 
            top: 0;
            left: 0;
            width: 100vw; 
            height: 100vh; 
            z-index: -1;
            opacity: 1;
            object-fit: cover; 
            object-position: center; 
        }

        /* 标题样式 - 居左上，调整间距 */
        .page-title {
            font-size: 26px;
            color: #333;
            margin: 10px 0 10px 0; /* 缩小上下间距，左上紧凑 */
            font-weight: bold;
            text-align: left; /* 强制左对齐 */
            padding-left: 10px; /* 轻微缩进，更美观 */
        }

        /* 副标题样式 - 居左上，匹配标题缩进 */
        .sub-title {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
            padding: 0 10px;
            text-align: left; /* 强制左对齐 */
            max-width: 80%; /* 避免文字过长，适配手机 */
        }

        /* 风筝展示区域 - 保留原有样式，仅恢复居中（避免整体左偏） */
        .kite-container {
            position: relative;
            width: 70%; 
            margin: 0 auto; /* 保持水平居中，仅标题左上 */
            min-height: 300px; 
            border: 2px solid #a8c5a9; 
            border-radius: 8px;
            background-color: transparent;
            padding: 0;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 15px;
        }

        /* 风筝图片样式 - 核心新增：淡入淡出动画 */
        .kite-img {
            width: 100%;
            height: 100%;
            max-width: none;
            max-height: none;
            margin: 0;
            cursor: pointer;
            transition: transform 0.3s, opacity 0.5s ease; /* opacity过渡动画 */
            object-fit: cover;
            object-position: center;
            border-radius: 6px;
            opacity: 1; 
        }
        .kite-img:active {
            transform: scale(0.98);
        }

        /* 风筝名称样式 - 保留原有 */
        .kite-name {
            display: none;
        }

        /* 切换箭头样式 - 保留原有 */
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            background-color: transparent; 
            border-radius: 0; 
        }
        .arrow-left {
            left: 0px;
        }
        .arrow-right {
            right: 0px;
        }
        .arrow img {
            width: 24px;
            height: 24px;
            filter: drop-shadow(0 0 2px rgba(0,0,0,0.3));
        }

        /* 详情提示文字 - 恢复居中（与风筝区域匹配） */
        .hint-text {
            font-size: 13px;
            color: #333;
            margin: 0 0 20px 0;
            position: static;
            text-shadow: none;
            text-align: center; /* 提示文字仍居中 */
        }

        /* 开始制作图片按钮样式 - 保留原有 */
        .start-btn {
            width: 35%; 
            height: auto;
            border: none;
            border-radius: 24px;
            margin: 0 auto; /* 按钮仍居中 */
            cursor: pointer;
            display: block;
            text-decoration: none;
            overflow: hidden;
        }
        .start-btn img {
            width: 100%;
            height: auto;
            display: block;
        }
        .start-btn:active {
            opacity: 0.9;
        }

        /* 移除弹窗相关样式 */
        .detail-modal {
            display: none !important;
        }

        /* 音乐按钮 */
        .music-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 30px;
            height: 30px; 
            cursor: pointer;
        }
        .music-btn img {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 背景图 -->
        <img src="images/2/background.webp" class="bgimg" alt="背景图">
        
        <!-- 音乐按钮 - 已缩小 -->
        <div class="music-btn">
            <img src="images/2/资源 24@0.5x.webp" alt="音乐开关" id="musicIcon">
        </div>

        <!-- 标题区域 - 整体居左上 -->
        <h1 class="page-title">潍坊风筝介绍</h1>
        <p class="sub-title">
            潍坊，被誉为"世界风筝之都"<br>
            于2006年被列入国家级非物质文化遗产名录
        </p>

        <!-- 风筝展示区域 - 保留原有居中 -->
        <div class="kite-container">
            <div class="arrow arrow-left" onclick="changeKite(-1)">
                <img src="images/2/资源 12(1)@0.5x.png" alt="上一个">
            </div>
            <div class="kite-name" id="kiteName">板子风筝</div>
            <img src="kite1.jpg" class="kite-img" id="kiteImg" onclick="replaceKiteImg()">
            <div class="arrow arrow-right" onclick="changeKite(1)">
                <img src="images/2/资源 12(2)@0.5x.png" alt="下一个">
            </div>
        </div>

        <p class="hint-text">点击图片了解详情</p>

        <!-- 开始制作按钮 - 保留原有居中 -->
        <a href="page4.html" class="start-btn">
            <img src="images/2/资源 10@0.5x.webp" alt="开始制作">
        </a>
    </div>

    <script>
        // 风筝数据数组
        const kiteData = [
            {
                name: "板子风筝",
                img: "images/2/资源 11@0.5x.webp",
                detailImg: "images/2/资源 13@0.5x.png",
                desc: "平面平板结构，周边有竹框，中间裱糊蒙面，是基础且常见的形态<br><br>起飞容易，飞行稳定。依靠尾部（穗子）保持平衡。造型多样，非常适合作为绘画的画布"
            },
            {
                name: "串形风筝",
                img: "kite2.jpg",
                detailImg: "images/2/串形风筝详情图.webp",
                desc: "由多个单体风筝串联而成，可长可短，造型灵活<br><br>常见的有蜈蚣风筝，由头、身、尾三部分组成，节节相连，飞行时如同活物，极具动感"
            },
            {
                name: "桶形风筝",
                img: "kite3.jpg",
                detailImg: "images/2/桶形风筝详情图.webp",
                desc: "立体结构，形似圆筒，由竹篾扎成骨架后裱糊而成<br><br>利用空气动力学原理，无需尾坠即可稳定飞行，制作工艺相对复杂，是潍坊风筝中的特色品类"
            },
            {
                name: "硬翅风筝",
                img: "kite4.jpg",
                detailImg: "images/2/硬翅风筝详情图.webp",
                desc: "翅膀坚硬，由上下两根竹条固定，翅形多为三角形<br><br>升力大，飞行高度高，是潍坊传统风筝的代表类型之一，常见造型有沙燕等"
            },
            {
                name: "软翅风筝",
                img: "kite5.jpg",
                detailImg: "images/2/软翅风筝详情图.webp",
                desc: "翅膀下部无竹条支撑，呈柔软状态，飞行时随风飘动<br><br>造型轻盈灵动，多表现飞鸟、昆虫等生物，放飞时姿态优美，栩栩如生"
            },
            {
                name: "自由风筝",
                img: "kite6.jpg",
                detailImg: "images/2/自由风筝详情图.webp",
                desc: "打破传统造型束缚，融合现代设计理念的创新类型<br><br>形态多样，不拘一格，既有对传统的继承，也有对新材料、新结构的探索"
            }
        ];

        let currentIndex = 0;
        let isDetailShow = false;

        // 切换风筝 
        function changeKite(direction) {
            currentIndex += direction;
            if (currentIndex < 0) {
                currentIndex = kiteData.length - 1;
            } else if (currentIndex >= kiteData.length) {
                currentIndex = 0;
            }
            isDetailShow = false;
            fadeAndUpdateKite();
        }

        // 更新风筝显示 - 单独提取为函数
        function updateKiteDisplay() {
            const currentKite = kiteData[currentIndex];
            document.getElementById("kiteName").innerText = currentKite.name;
            document.getElementById("kiteImg").src = currentKite.img;
            document.getElementById("kiteImg").alt = currentKite.name;
        }

        // 点击图片替换为详情图 - 核心新增：淡入淡出逻辑
        function replaceKiteImg() {
            const currentKite = kiteData[currentIndex];
            const kiteImg = document.getElementById("kiteImg");
            // 图片透明度变为0（淡出）
            kiteImg.style.opacity = 0;
            // 延迟250ms（动画中途）切换图片路径
            setTimeout(() => {
                if (!isDetailShow) {
                    kiteImg.src = currentKite.detailImg;
                    kiteImg.alt = currentKite.name + "详情";
                    isDetailShow = true;
                } else {
                    kiteImg.src = currentKite.img;
                    kiteImg.alt = currentKite.name;
                    isDetailShow = false;
                }
                // 透明度恢复为1（淡入）
                kiteImg.style.opacity = 1;
            }, 250); 
        }

        // 风筝切换时的淡入淡出动画
        function fadeAndUpdateKite() {
            const kiteImg = document.getElementById("kiteImg");
            kiteImg.style.opacity = 0;
            setTimeout(() => {
                updateKiteDisplay();
                kiteImg.style.opacity = 1;
            }, 250);
        }

        // 废弃弹窗相关函数
        function showDetail() {}
        function closeDetail() {}

        // 音乐开关
        let isMusicPlaying = true;
        document.getElementById("musicIcon").addEventListener("click", function() {
            isMusicPlaying = !isMusicPlaying;
            this.src = isMusicPlaying 
                ? "images/2/资源 24@0.5x.webp" 
                : "images/2/资源 24@0.5x.webp";
        });

        // 初始化页面
        updateKiteDisplay();
    </script>
</body>
</html>